# Setting up Models and Adapters

In the last drip we set up some components and actions in our contact-manager Ember application. We are going to continue working on that app today by discussing and setting up a Contact model and and adapter that will help us connect our Ember application to a server.

## Setup

You should have a server application installed and running locally on port 4000.

* [Node/Express Server](https://github.com/baroquon/contact_manager_backend_node)
* [Elixir/Phoenix Server](https://github.com/baroquon/contact_manager_backend)

Both of the servers listed above are serving JSON API compliant payloads. The Node/Express server should create a few records for you, if you are running the Elixir/Phoenix server you should add a few records before we get started:

```sh
curl -X POST -H "Content-Type: application/json" -d '{ "contact": { "first_name": "Gerald", "last_name": "Madison", "email":"germader@gmail.com", "phone": "205.555.0438" } }' http://localhost:4000/contacts
curl -X POST -H "Content-Type: application/json" -d '{ "contact": { "first_name": "Jimmy", "last_name": "Jefferson", "email":"jeffster@gmail.com", "phone": "205.555.0339" } }' http://localhost:4000/contacts
curl -X POST -H "Content-Type: application/json" -d '{ "contact": { "first_name": "Ronald", "last_name": "Adams", "email":"radams@gmail.com", "phone": "205.555.0240" } }' http://localhost:4000/contacts
curl -X POST -H "Content-Type: application/json" -d '{ "contact": { "first_name": "Bill", "last_name": "Washington", "email":"washb@gmail.com", "phone": "205.555.0141" } }' http://localhost:4000/contacts
```

## The Ember Stuff

The first thing we are going to want to do is let Ember Data handle our data instead of manually creating an Array and a couple of objects in the route. Let's go ahead and create a model for our contacts.

```sh
cd /path/to/ember/project
$ ember g model contact firstName:string lastName:string email:string phone:string
```

Our newly generated model at `app/models/contact.js` looks like this:

```JavaScript
import Model from 'ember-data/model';
import attr from 'ember-data/attr';
// import { belongsTo, hasMany } from 'ember-data/relationships';

export default Model.extend({
  firstName: attr('string'),
  lastName: attr('string'),
  email: attr('string'),
  phone: attr('string')
});
```

Now we need to update the model hook in our contacts route to pull from Ember Data.

```JavaScript
model(){
  return this.store.findAll('contact');
}
```

If you have one of our server apps running locally on your machine at port 4000, there should only be one more step you need to take to wire up your Ember app. We just need to tell it where to look for its data. We do this by generating an adapter.

```sh
$ ember g adapter application
```

Your newly generated adapter at `app/adapters/application.js` looks like:

```JavaScript
import JSONAPIAdapter from 'ember-data/adapters/json-api';

export default JSONAPIAdapter.extend({
});
```

We should change it to include a host property:

```JavaScript
import JSONAPIAdapter from 'ember-data/adapters/json-api';

export default JSONAPIAdapter.extend({
  host: 'http://localhost:4000'
});
```

Now, if we run our Ember app and visit [http://localhost:4200/contacts](http://localhost:4200/contacts) we should
